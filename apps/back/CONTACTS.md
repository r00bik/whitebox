# üìá –°–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ Whitebox

–°–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –¥–æ–±–∞–≤–ª—è—Ç—å –¥—Ä—É–≥ –¥—Ä—É–≥–∞ –≤ –∫–æ–Ω—Ç–∞–∫—Ç—ã, –æ—Å—Ç–∞–≤–ª—è—Ç—å –ª–∏—á–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏ –∏ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤—ã–≤–∞—Ç—å –∏—Ö —Å –ø–æ–º–æ—â—å—é —Ç–µ–≥–æ–≤.

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö

```typescript
// Contact - —Å–≤—è–∑—å –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
{
  id: string;            // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–æ–Ω—Ç–∞–∫—Ç–∞
  userId: string;        // ID –≤–ª–∞–¥–µ–ª—å—Ü–∞ –∫–æ–Ω—Ç–∞–∫—Ç–∞
  contactUserId: string; // ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –¥–æ–±–∞–≤–ª–µ–Ω–Ω–æ–≥–æ –≤ –∫–æ–Ω—Ç–∞–∫—Ç—ã
  notes?: string;        // –õ–∏—á–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏ –æ –∫–æ–Ω—Ç–∞–∫—Ç–µ
  tags: string[];        // –¢–µ–≥–∏ –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏–∏
  isActive: boolean;     // –§–ª–∞–≥ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (soft delete)
  createdAt: Date;       // –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
  updatedAt: Date;       // –î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

  // –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
  contactUser: {
    id: string;
    name: string;
    email: string;
  };
}
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª—è

```
src/contacts/
‚îú‚îÄ‚îÄ contacts.module.ts          # –ú–æ–¥—É–ª—å –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤
‚îú‚îÄ‚îÄ contacts.controller.ts      # REST API –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä
‚îú‚îÄ‚îÄ contacts.service.ts         # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îú‚îÄ‚îÄ contacts.controller.spec.ts # E2E —Ç–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ contacts.service.spec.ts    # Unit —Ç–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ contacts.http              # –¢–µ—Å—Ç—ã API
‚îú‚îÄ‚îÄ dto/                       # Data Transfer Objects
‚îÇ   ‚îú‚îÄ‚îÄ create-contact.dto.ts
‚îÇ   ‚îú‚îÄ‚îÄ update-contact.dto.ts
‚îÇ   ‚îú‚îÄ‚îÄ contact-filters.dto.ts
‚îÇ   ‚îú‚îÄ‚îÄ contact-response.dto.ts
‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îî‚îÄ‚îÄ entities/                  # Entities –¥–ª—è Swagger
    ‚îú‚îÄ‚îÄ contact.entity.ts
    ‚îî‚îÄ‚îÄ index.ts
```

## üåê API –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

### –ë–∞–∑–æ–≤—ã–π URL: `/v1/contacts`

| –ú–µ—Ç–æ–¥  | –ü—É—Ç—å                        | –û–ø–∏—Å–∞–Ω–∏–µ                  | –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è |
| ------ | --------------------------- | ------------------------- | ----------- |
| POST   | `/v1/contacts`              | –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∫–æ–Ω—Ç–∞–∫—Ç–∞  | ‚úÖ JWT      |
| GET    | `/v1/contacts`              | –°–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ | ‚úÖ JWT      |
| GET    | `/v1/contacts/:id`          | –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–∞ –ø–æ ID  | ‚úÖ JWT      |
| PUT    | `/v1/contacts/:id`          | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–∞       | ‚úÖ JWT      |
| DELETE | `/v1/contacts/:id`          | –î–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è –∫–æ–Ω—Ç–∞–∫—Ç–∞      | ‚úÖ JWT      |
| PATCH  | `/v1/contacts/:id/activate` | –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–∞   | ‚úÖ JWT      |
| GET    | `/v1/contacts/search`       | –ü–æ–∏—Å–∫ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤           | ‚úÖ JWT      |
| GET    | `/v1/contacts/archived`     | –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–Ω—Ç–∞–∫—Ç—ã   | ‚úÖ JWT      |

### üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

–í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Ç—Ä–µ–±—É—é—Ç JWT —Ç–æ–∫–µ–Ω –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ:

```
Authorization: Bearer <–≤–∞—à_jwt_—Ç–æ–∫–µ–Ω>
```

## üìã –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ API

### 1. –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–∞

**POST** `/v1/contacts`

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**

```json
{
  "contactUserId": "cm7abc123def456",
  "notes": "–ö–æ–ª–ª–µ–≥–∞ –∏–∑ –æ—Ç–¥–µ–ª–∞ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞",
  "tags": ["—Ä–∞–±–æ—Ç–∞", "–∫–æ–ª–ª–µ–≥–∞", "–º–∞—Ä–∫–µ—Ç–∏–Ω–≥"]
}
```

**–û—Ç–≤–µ—Ç (201):**

```json
{
  "id": "cm7contact789xyz",
  "userId": "cm7user123abc",
  "contactUserId": "cm7abc123def456",
  "notes": "–ö–æ–ª–ª–µ–≥–∞ –∏–∑ –æ—Ç–¥–µ–ª–∞ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞",
  "tags": ["—Ä–∞–±–æ—Ç–∞", "–∫–æ–ª–ª–µ–≥–∞", "–º–∞—Ä–∫–µ—Ç–∏–Ω–≥"],
  "isActive": true,
  "createdAt": "2024-12-27T10:00:00.000Z",
  "updatedAt": "2024-12-27T10:00:00.000Z",
  "contactUser": {
    "id": "cm7abc123def456",
    "name": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
    "email": "ivan@example.com"
  }
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**

- `400` - –ü–æ–ø—ã—Ç–∫–∞ –¥–æ–±–∞–≤–∏—Ç—å —Å–∞–º–æ–≥–æ —Å–µ–±—è
- `400` - –ö–æ–Ω—Ç–∞–∫—Ç —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- `404` - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω

### 2. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤

**GET** `/v1/contacts`

**Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**

- `page` (number, default: 1) - –ù–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- `limit` (number, default: 10) - –†–∞–∑–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- `search` (string) - –ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏ –∏–ª–∏ email
- `tags` (string[]) - –§–∏–ª—å—Ç—Ä –ø–æ —Ç–µ–≥–∞–º
- `isActive` (boolean) - –§–∏–ª—å—Ç—Ä –ø–æ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- `sortBy` (string, default: "createdAt") - –ü–æ–ª–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
- `sortOrder` ("asc" | "desc", default: "desc") - –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**

```
GET /v1/contacts?page=1&limit=5&search=–∏–≤–∞–Ω&tags=—Ä–∞–±–æ—Ç–∞&sortBy=name&sortOrder=asc
```

**–û—Ç–≤–µ—Ç (200):**

```json
{
  "data": [
    {
      "id": "cm7contact789xyz",
      "userId": "cm7user123abc",
      "contactUserId": "cm7abc123def456",
      "notes": "–ö–æ–ª–ª–µ–≥–∞ –∏–∑ –æ—Ç–¥–µ–ª–∞ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞",
      "tags": ["—Ä–∞–±–æ—Ç–∞", "–∫–æ–ª–ª–µ–≥–∞"],
      "isActive": true,
      "createdAt": "2024-12-27T10:00:00.000Z",
      "updatedAt": "2024-12-27T10:00:00.000Z",
      "contactUser": {
        "id": "cm7abc123def456",
        "name": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
        "email": "ivan@example.com"
      }
    }
  ],
  "meta": {
    "page": 1,
    "limit": 5,
    "total": 1,
    "totalPages": 1,
    "hasNext": false,
    "hasPrev": false
  }
}
```

### 3. –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–∞ –ø–æ ID

**GET** `/v1/contacts/:id`

**–û—Ç–≤–µ—Ç (200):** –û–±—ä–µ–∫—Ç –∫–æ–Ω—Ç–∞–∫—Ç–∞ (—Å–º. —Å—Ç—Ä—É–∫—Ç—É—Ä—É –≤—ã—à–µ)

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**

- `404` - –ö–æ–Ω—Ç–∞–∫—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω

### 4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–∞

**PUT** `/v1/contacts/:id`

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**

```json
{
  "notes": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏",
  "tags": ["–Ω–æ–≤—ã–π", "—Ç–µ–≥"]
}
```

**–û—Ç–≤–µ—Ç (200):** –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç –∫–æ–Ω—Ç–∞–∫—Ç–∞

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**

- `404` - –ö–æ–Ω—Ç–∞–∫—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω

### 5. –î–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è –∫–æ–Ω—Ç–∞–∫—Ç–∞

**DELETE** `/v1/contacts/:id`

**–û—Ç–≤–µ—Ç (200):** –û–±—ä–µ–∫—Ç –∫–æ–Ω—Ç–∞–∫—Ç–∞ —Å `isActive: false`

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**

- `404` - –ö–æ–Ω—Ç–∞–∫—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω

### 6. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–∞

**PATCH** `/v1/contacts/:id/activate`

**–û—Ç–≤–µ—Ç (200):** –û–±—ä–µ–∫—Ç –∫–æ–Ω—Ç–∞–∫—Ç–∞ —Å `isActive: true`

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**

- `404` - –ö–æ–Ω—Ç–∞–∫—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω

### 7. –ü–æ–∏—Å–∫ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤

**GET** `/v1/contacts/search`

–ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–µ –∂–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, —á—Ç–æ –∏ —Å–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤. –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

- –ü–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ –ø–æ–ª—è–º `name` –∏ `email` —Å–≤—è–∑–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–µ—á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–π –∫ —Ä–µ–≥–∏—Å—Ç—Ä—É –ø–æ–∏—Å–∫
- –ú–æ–∂–Ω–æ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ –ø–æ —Ç–µ–≥–∞–º

### 8. –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–Ω—Ç–∞–∫—Ç—ã

**GET** `/v1/contacts/archived`

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–Ω—Ç–∞–∫—Ç—ã (`isActive: false`).
–ü—Ä–∏–Ω–∏–º–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏.

## üîç –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏ –ø–æ–∏—Å–∫–∞

### –ü–æ–∏—Å–∫ –ø–æ —Ç–µ–∫—Å—Ç—É

- **–ü–æ –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**: –Ω–µ—á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–π –∫ —Ä–µ–≥–∏—Å—Ç—Ä—É
- **–ü–æ email**: –Ω–µ—á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–π –∫ —Ä–µ–≥–∏—Å—Ç—Ä—É
- **–ü–æ –∑–∞–º–µ—Ç–∫–∞–º**: –ø–æ–∏—Å–∫ –≤ –ª–∏—á–Ω—ã—Ö –∑–∞–º–µ—Ç–∫–∞—Ö

### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è

- **–ü–æ —Ç–µ–≥–∞–º**: `tags=—Ä–∞–±–æ—Ç–∞,–¥—Ä—É–∑—å—è` (OR –ª–æ–≥–∏–∫–∞)
- **–ü–æ —Å—Ç–∞—Ç—É—Å—É**: `isActive=true/false`
- **–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è**: –º–æ–∂–Ω–æ —Å–æ–≤–º–µ—â–∞—Ç—å –≤—Å–µ —Ñ–∏–ª—å—Ç—Ä—ã

### –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞

- **–ü–æ –¥–∞—Ç–µ —Å–æ–∑–¥–∞–Ω–∏—è**: `sortBy=createdAt`
- **–ü–æ –∏–º–µ–Ω–∏ –∫–æ–Ω—Ç–∞–∫—Ç–∞**: `sortBy=name`
- **–ü–æ –¥–∞—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**: `sortBy=updatedAt`
- **–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: `sortOrder=asc/desc`

### –ü–∞–≥–∏–Ω–∞—Ü–∏—è

- **–†–∞–∑–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã**: `limit=10` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- **–ù–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã**: `page=1` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- **–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ**: –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ –≤ –æ—Ç–≤–µ—Ç–µ

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

- JWT —Ç–æ–∫–µ–Ω –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è –≤—Å–µ—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏–º–∏ –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏

### –í–∞–ª–∏–¥–∞—Ü–∏—è

- **contactUserId**: –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ —Å—Ç—Ä–æ–∫–æ–≤–æ–µ –ø–æ–ª–µ
- **notes**: –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å—Ç—Ä–æ–∫–∞
- **tags**: –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –º–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- –ù–µ–ª—å–∑—è –¥–æ–±–∞–≤–∏—Ç—å —Å–∞–º–æ–≥–æ —Å–µ–±—è –≤ –∫–æ–Ω—Ç–∞–∫—Ç—ã
- –ù–µ–ª—å–∑—è —Å–æ–∑–¥–∞—Ç—å –¥—É–±–ª–∏—Ä—É—é—â–∏–π –∫–æ–Ω—Ç–∞–∫—Ç
- –î–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –∫ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º –∫–æ–Ω—Ç–∞–∫—Ç–∞–º

## üìä –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–∞ —Å —Ç–µ–≥–∞–º–∏

```bash
curl -X POST http://localhost:3000/v1/contacts \
  -H "Authorization: Bearer $JWT_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "contactUserId": "cm7abc123def456",
    "notes": "–ú–µ–Ω–µ–¥–∂–µ—Ä –ø—Ä–æ–µ–∫—Ç–∞ X",
    "tags": ["—Ä–∞–±–æ—Ç–∞", "–ø—Ä–æ–µ–∫—Ç-x", "–≤–∞–∂–Ω—ã–π"]
  }'
```

### –ü–æ–∏—Å–∫ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ –ø–æ —Ç–µ–≥—É

```bash
curl "http://localhost:3000/v1/contacts/search?tags=—Ä–∞–±–æ—Ç–∞&limit=20" \
  -H "Authorization: Bearer $JWT_TOKEN"
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤

```bash
curl "http://localhost:3000/v1/contacts/archived?page=1&limit=10" \
  -H "Authorization: Bearer $JWT_TOKEN"
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–º–µ—Ç–æ–∫ –∫–æ–Ω—Ç–∞–∫—Ç–∞

```bash
curl -X PUT http://localhost:3000/v1/contacts/cm7contact789xyz \
  -H "Authorization: Bearer $JWT_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "notes": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–Ω—Ç–∞–∫—Ç–µ",
    "tags": ["—Ä–∞–±–æ—Ç–∞", "–≤–∞–∂–Ω—ã–π", "–¥—Ä—É–≥"]
  }'
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
# Unit —Ç–µ—Å—Ç—ã —Å–µ—Ä–≤–∏—Å–∞
pnpm test contacts.service.spec.ts

# E2E —Ç–µ—Å—Ç—ã –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞
pnpm test contacts.controller.spec.ts

# –í—Å–µ —Ç–µ—Å—Ç—ã
pnpm test
```

### –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏

- ‚úÖ **16 unit —Ç–µ—Å—Ç–æ–≤** —Å–µ—Ä–≤–∏—Å–∞
- ‚úÖ **16 e2e —Ç–µ—Å—Ç–æ–≤** –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞
- ‚úÖ **100% –ø–æ–∫—Ä—ã—Ç–∏–µ** –≤—Å–µ—Ö –º–µ—Ç–æ–¥–æ–≤ –∏ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∞–π–ª `src/contacts/contacts.http` –¥–ª—è —Ä—É—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤.

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –º–∏–≥—Ä–∞—Ü–∏–∏:

```bash
npx prisma migrate deploy
```

### Environment –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

```env
DATABASE_URL="postgresql://user:password@localhost:5432/whitebox"
JWT_SECRET="your-secret-key"
```

### Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É:

```
http://localhost:3000/api
```

## üîÑ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ –º–æ–¥—É–ª—è–º–∏

### –ú–æ–¥—É–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `UserService` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ó–∞–≤–∏—Å–∏—Ç –æ—Ç JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

### –ú–æ–¥—É–ª—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `PrismaService` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∏ —Å–≤—è–∑–∏

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤

- –ò–Ω–¥–µ–∫—Å—ã –Ω–∞ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–æ–ª—è
- Selective includes –¥–ª—è —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

–í –±—É–¥—É—â–µ–º –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:

- Redis –∫—ç—à –¥–ª—è —á–∞—Å—Ç–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã—Ö –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞

## üõ†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- **NestJS**: –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **Prisma**: ORM –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î
- **class-validator**: –≤–∞–ª–∏–¥–∞—Ü–∏—è DTO
- **JWT**: –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

### –í–µ—Ä—Å–∏–∏

- Node.js: 18+
- PostgreSQL: 12+
- TypeScript: 5+

---

_–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞: 27 –¥–µ–∫–∞–±—Ä—è 2024_
